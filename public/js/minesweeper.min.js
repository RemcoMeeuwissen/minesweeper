(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";module.exports=function(t){var n=!1,e=!1,o=71;return t.map(function(t){return t.map(function(t){return"shown"===t.state&&"B"===t.value?n=!0:"shown"===t.state&&(o-=1),t}),t}),o<=0&&!n&&(e=!0),{lost:n,won:e}};

},{}],2:[function(require,module,exports){
"use strict";module.exports=function(e,a){var t=document.createElement("table"),n=a(e);return e.map(function(e,a){var l=t.insertRow();return e.map(function(e,t){var r=l.insertCell();if("hidden"===e.state){var u=document.createElement("a");u.innerHTML=" ",u.href="/"+t+"-"+a,u.onclick=n,u.setAttribute("aria-label","Reveal tile"),r.appendChild(u),r.className="hidden"}else if("B"===e.value){var m=document.createElement("img");m.src="/img/bomb.png",m.alt="Bomb",r.appendChild(m)}else 0===e.value?r.appendChild(document.createTextNode(" ")):(r.append(document.createTextNode(e.value)),1===e.value?r.className="number-one":2===e.value?r.className="number-two":3===e.value?r.className="number-three":4===e.value?r.className="number-four":5===e.value&&(r.className="number-five"));return r}),l}),t};

},{}],3:[function(require,module,exports){
"use strict";var createDOMTable=require("./createDOMTable.js"),checkStatus=require("./checkStatus"),revealTile=require("./revealTile.js"),drawTable=function e(t){var a=function(t){return function(a){a.preventDefault();var r=a.currentTarget.href.slice(-3),l=r[0],n=r[2],c=new XMLHttpRequest;c.open("GET","/"+l+"-"+n),c.send(),void 0!==t[n]&&void 0!==t[n][l]&&"hidden"===t[n][l].state&&(0===t[n][l].value?t=revealTile(t,l,n):t[n][l].state="shown",e(t))}},r=document.getElementById("field"),l=document.getElementsByTagName("table")[0];r.replaceChild(createDOMTable(t,a),l);var n=checkStatus(t);if(n.lost||n.won){var c=document.getElementsByTagName("table")[0],s=void 0!==document.getElementsByClassName("alert")[0];if(!s){var o=null;n.lost?o='<h1>You\'ve lost :(</h1><a href="/new">click here to restart</a>':n.won&&(o='<h1>You\'ve won!</h1><a href="/new">click here to restart</a>');var i=document.createElement("div");i.className="alert",i.innerHTML=o,r.insertBefore(i,c)}}};module.exports=drawTable;

},{"./checkStatus":1,"./createDOMTable.js":2,"./revealTile.js":5}],4:[function(require,module,exports){
"use strict";var drawTable=require("./drawTable.js"),readyStateCheckInterval=setInterval(function(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),field=JSON.parse(field),drawTable(field))},10);

},{"./drawTable.js":3}],5:[function(require,module,exports){
"use strict";module.exports=function(t,e,r){var n=function(e,r){return void 0!==t[r]&&void 0!==t[r][e]&&"hidden"===t[r][e].state},o=function e(r,o){if(n(r,o)&&(t[o][r].state="shown",0===t[o][r].value))for(var u=-1;u<=1;u+=1)for(var a=-1;a<=1;a+=1)e(Number(r)+a,Number(o)+u)};return n(e,r)&&(0===t[r][e].value?o(e,r):t[r][e].state="shown"),t};

},{}]},{},[4]);
